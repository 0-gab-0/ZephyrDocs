{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"gpios/","title":"Gpios","text":""},{"location":"gpios/#template","title":"template","text":""},{"location":"gpios/#notes","title":"Notes","text":"<ul> <li>Copy first, then edit!!!!!</li> </ul>"},{"location":"gpios/#device-tree-overlay","title":"Device Tree Overlay","text":"<pre><code>// Add your device tree overlay code here\n</code></pre>"},{"location":"gpios/#kconfig","title":"Kconfig","text":"<pre><code>// Add your prj.conf flags here\n</code></pre>"},{"location":"gpios/#includes","title":"Includes","text":"<pre><code>// Add your header includes here\n</code></pre>"},{"location":"gpios/#declaration-space","title":"Declaration Space","text":"<pre><code>// Declare variables, constants, etc.\n</code></pre>"},{"location":"gpios/#function-declaration-space","title":"Function Declaration Space","text":"<pre><code>// Declare functions\n</code></pre>"},{"location":"gpios/#inline-code","title":"Inline Code","text":"<pre><code>// Inline code snippets\n</code></pre>"},{"location":"gpios/#bottom","title":"Bottom","text":"<pre><code>// additional code below Main function / threads\n</code></pre>"},{"location":"programming/","title":"Programming","text":""},{"location":"programming/#general-driver-model","title":"General Driver Model","text":""},{"location":"programming/#notes","title":"Notes","text":"<p>yowai more</p> <p>The application interacts with the hardware through the generic API by obtaining a device pointer for the hardware in question, using the macro DEVICE_DT_GET() or related macros. The Zephyr device model is responsible for the association between generic APIs and device driver implementations.</p> <p></p> <p>use the macro <code>DEVICE_DT_GET()</code> o get the device pointer, you need to pass the devicetree node identifier. As mentioned in the Devicetree section, there are many ways to get the node identifier. Two common ways are by the node label through the macro DT_NODELABEL() and by an alias through the macro DT_ALIAS().</p> <p>Before using the device pointer, it should be checked using <code>device_is_ready()</code></p> <p>Most peripheral APIs will have an equivalent to DEVICE_DT_GET() and device_is_ready() that are specific to the peripheral. For example for the GPIO peripheral, there is GPIO_DT_SPEC_GET() and gpio_is_ready_dt().</p> <p>These are the recommended ways to use the peripheral as they collect more information about the peripheral from the devicetree structure and reduce the need to add peripheral configurations in the application code.</p>"},{"location":"programming/#device-tree-overlay","title":"Device Tree Overlay","text":"<pre><code>// Add your device tree overlay code here\n</code></pre>"},{"location":"programming/#kconfig","title":"Kconfig","text":"<pre><code>// Add your prj.conf flags here\n</code></pre>"},{"location":"programming/#includes","title":"Includes","text":"<pre><code>// Add your header includes here\n</code></pre>"},{"location":"programming/#declaration-space","title":"Declaration Space","text":"<p><pre><code>const struct device *dev;\ndev = DEVICE_DT_GET(DT_NODELABEL(uart0));\n</code></pre> To use a device driver generic API, you must have a pointer of type const struct device to point to its implementation. You need to do this per peripheral instance. For example, if you have two UART peripherals (&amp;uart0 and &amp;uart1) and you want to use them both, you must have two separate pointers of type const struct device.</p> <p>In other words, you need to have two different calls to <code>DEVICE_DT_GET()</code>.</p>"},{"location":"programming/#function-declaration-space","title":"Function Declaration Space","text":"<pre><code>// Declare functions\n</code></pre>"},{"location":"programming/#inline-code","title":"Inline Code","text":"<pre><code>if (!device_is_ready(dev)) {\n    return;\n}\n</code></pre>"},{"location":"programming/#bottom","title":"Bottom","text":"<pre><code>// additional code below Main function / threads\n</code></pre>"},{"location":"programming/#gpios","title":"GPIOs","text":""},{"location":"programming/#notes_1","title":"Notes","text":"<p>NSome of the generic APIs in Zephyr have API-specific structs that contain the previously mentioned device pointer, as well as some other information about the device. In the GPIO API, this is the structure <code>gpio_dt_spec</code>. This structure encompasses the device pointer const struct device <code>* port</code>, as well as the pin number on the device, <code>gpio_pin_t pin</code>, and the device\u2019s configuration flags, <code>gpio_dt_flags_t dt_flags</code>.</p> <p>The port is the GPIO device controlling the pin. Pins are usually grouped and controlled by a single GPIO port. On most Nordic SoCs, there are either one or two GPIO controllers, named GPIO0 or GPIO1.</p> <p>Similar to <code>DEVICE_DT_GET()</code>, <code>GPIO_DT_SPEC_GET()</code> also takes the devicetree node identifier. It also takes the property name of the node. The function will return a variable of type <code>gpio_dt_spec</code>, containing the device pointer as well as the pin number and configuration flags.</p>"},{"location":"programming/#device-tree-overlay_1","title":"Device Tree Overlay","text":"<pre><code>// Add your device tree overlay code here\n</code></pre>"},{"location":"programming/#kconfig_1","title":"Kconfig","text":"<pre><code>CONFIG_GPIO=y\n</code></pre>"},{"location":"programming/#includes_1","title":"Includes","text":"<pre><code>#include &lt;zephyr/kernel.h&gt;\n#include &lt;zephyr/device.h&gt;\n#include &lt;zephyr/devicetree.h&gt;\n#include &lt;zephyr/drivers/gpio.h&gt;\n</code></pre>"},{"location":"programming/#declaration-space_1","title":"Declaration Space","text":"<pre><code>// Declare variables, constants, etc.\nstatic const struct device *gpio_dev;\nstatic struct gpio_callback button_cb_data;\n</code></pre>"},{"location":"programming/#function-declaration-space_1","title":"Function Declaration Space","text":"<pre><code>// Declare functions\nvoid button_pressed(const struct device *dev, struct gpio_callback *cb, uint32_t pins);\n</code></pre>"},{"location":"programming/#inline-code_1","title":"Inline Code","text":"<pre><code>// Inline code snippets\ngpio_pin_configure(gpio_dev, PIN, GPIO_INPUT | GPIO_PULL_UP);\n</code></pre>"},{"location":"programming/#bottom_1","title":"Bottom","text":"<pre><code>// Main function or additional code\nvoid main(void) {\n    // Initialize GPIO\n}\n</code></pre>"},{"location":"programming/#ble","title":"BLE","text":""},{"location":"programming/#notes_2","title":"Notes","text":"<p> Types of Advertising: <code>ADV_IND</code> scannable and connectable <code>ADV_DIRECT_IND</code> connectable, directed <code>ADV_SCAN_IND</code> scannable (no connection) <code>ADV_NONCONN_IND</code> beacon</p>"},{"location":"programming/#device-tree-overlay_2","title":"Device Tree Overlay","text":"<pre><code>// Add your device tree overlay code here\n</code></pre>"},{"location":"programming/#kconfig_2","title":"Kconfig","text":"<p>prj.conf:</p> <pre><code>CONFIG_BT=y\n</code></pre> <p>Kconfig.sysbuild (if sysbuild is used): <pre><code>source \"${ZEPHYR_BASE}/share/sysbuild/Kconfig\"\n\nconfig NRF_DEFAULT_IPC_RADIO\n    default y\n\nconfig NETCORE_IPC_RADIO_BT_HCI_IPC\n    default y\n</code></pre></p>"},{"location":"programming/#declaration-space_2","title":"Declaration Space","text":"<pre><code>// Declare variables, constants, etc.\n</code></pre>"},{"location":"programming/#function-declaration-space_2","title":"Function Declaration Space","text":"<pre><code>// Declare functions\n</code></pre>"},{"location":"programming/#inline-code_2","title":"Inline Code","text":"<pre><code>// Inline code snippets\n</code></pre>"},{"location":"programming/#bottom_2","title":"Bottom","text":"<pre><code>// additional code below Main function / threads\n</code></pre>"},{"location":"programming/#logging","title":"Logging","text":""},{"location":"programming/#notes_3","title":"Notes","text":"<p>There are four severity levels available in the system, see the table below.</p> Number Severity Level Details Macro 1 (most severe) Error Severe error conditions LOG_LEVEL_ERR 2 Warning Conditions that should be taken care of LOG_LEVEL_WRN 3 Info Informational messages that require no action LOG_LEVEL_INF 4 (least severe) Debug Debugging messages LOG_LEVEL_DBG"},{"location":"programming/#kconfig_3","title":"Kconfig","text":"<pre><code>CONFIG_LOG=y\n</code></pre>"},{"location":"programming/#includes_2","title":"Includes","text":"<pre><code>#include &lt;zephyr/logging/log.h&gt;\n</code></pre>"},{"location":"programming/#declaration-space_3","title":"Declaration Space","text":"<pre><code>LOG_MODULE_REGISTER(&lt;log_module_name&gt;, LOG_LEVEL_INF);\n</code></pre>"},{"location":"programming/#inline-code_3","title":"Inline Code","text":"<pre><code>    int exercise_num=2;\n    uint8_t data[] = {0x00, 0x01, 0x02, 0x03,\n                      0x04, 0x05, 0x06, 0x07,\n                      'H', 'e', 'l', 'l','o'};\n    //Printf-like messages\n    LOG_INF(\"nRF Connect SDK Fundamentals\");\n    LOG_INF(\"Exercise %d\",exercise_num);    \n    LOG_DBG(\"A log message in debug level\");\n    LOG_WRN(\"A log message in warning level!\");\n    LOG_ERR(\"A log message in Error level!\");\n    //Hexdump some data\n    LOG_HEXDUMP_INF(data, sizeof(data),\"Sample Data!\");\n</code></pre>"},{"location":"programming/#template","title":"template","text":""},{"location":"programming/#notes_4","title":"Notes","text":"<ul> <li>Copy first, then edit!!!!!</li> </ul>"},{"location":"programming/#device-tree-overlay_3","title":"Device Tree Overlay","text":"<pre><code>// Add your device tree overlay code here\n</code></pre>"},{"location":"programming/#kconfig_4","title":"Kconfig","text":"<pre><code>// Add your prj.conf flags here\n</code></pre>"},{"location":"programming/#includes_3","title":"Includes","text":"<pre><code>// Add your header includes here\n</code></pre>"},{"location":"programming/#declaration-space_4","title":"Declaration Space","text":"<pre><code>// Declare variables, constants, etc.\n</code></pre>"},{"location":"programming/#function-declaration-space_3","title":"Function Declaration Space","text":"<pre><code>// Declare functions\n</code></pre>"},{"location":"programming/#inline-code_4","title":"Inline Code","text":"<pre><code>// Inline code snippets\n</code></pre>"},{"location":"programming/#bottom_3","title":"Bottom","text":"<pre><code>// additional code below Main function / threads\n</code></pre>"}]}